<html lang='pl'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Roblox Wiki</title>

    <link rel='icon' href='assets/icon.png'>
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Inter&display=swap' rel='stylesheet'>
    <script src='https://code.jquery.com/jquery-3.6.3.min.js'></script>
    
    <link rel='stylesheet' href='css/main.css'>

    <script src='js/sql/sql-wasm.js'></script>
    <script src='js/sql/init.js'></script>

    <script src='js/css/cssJSON.js'></script>
    <script src='js/css/templateCSS.js'></script>

    <script src='js/pages/dom.js'></script>
    <script src='js/pages/template.js'></script>
    <script src='js/pages/website.js'></script>
</head>
<body>
    <header>
        <ul class='header-menu'>
            <li><a href='/Roblox-Tutorials'>Homepage</a></li>
            <li><a href='/Roblox-Tutorials/?filter=recent&limit=10'>Recent websites</a></li>
        </ul>
    </header>
    <main>
        <form action='' method='GET'>
            <label for='search-page'>Search articles</label><br/>
            <input type='search' id='search-page' name='q'><br/><br/>
            <input type='submit' id='search-button' value='Search'>
        </form>
    </main>
    <footer>
        Copyright by: <a href='https://github.com/TracerDS' target='_blank'>Tracer</a><br/>
        Roblox Wiki &copy; 2022<br/>
        Original Github Repository: <a href='https://github.com/TracerDS/Roblox-Tutorials'>Here</a>
    </footer>

    <script>
        startDB(async (db) => {
            const urlParams = await new URLSearchParams(window.location.search)
            const queryParams = await urlParams.get('q')
            const filterParams = await urlParams.get('filter')
            const limitParams = await urlParams.get('limit')

            if(!queryParams && !filterParams && !limitParams) return
            await $('main').html('')
            await loadWebsite(db, queryParams, filterParams, limitParams)
        })
    </script>
</body>
</html>